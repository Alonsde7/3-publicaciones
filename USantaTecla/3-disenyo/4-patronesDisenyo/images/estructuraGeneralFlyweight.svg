<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="673px" preserveAspectRatio="none" style="width:1313px;height:673px;background:#222222;" version="1.1" viewBox="0 0 1313 673" width="1313px" zoomAndPan="magnify"><defs/><g><!--class Scenario--><polygon fill="#222222" points="710.5,8,710.5,8.2102,720.9,7.5857,731.3,8.1933,741.7,8.3997,752.1,7.2866,762.5,7.9223,772.9,7.5735,783.3,7.6165,793.7,7.9318,804.1,7.3086,814.5,8,815.0536,8,813.8697,17.4623,814.3022,26.9246,814.9319,36.3868,814.4142,45.8491,814.5682,55.3114,814.4681,64.7737,814.6785,74.236,814.5,83.6982,814.5,83.9374,804.1,84.2839,793.7,84.3693,783.3,84.3775,772.9,83.9529,762.5,84.1618,752.1,84.4005,741.7,82.9771,731.3,84.3768,720.9,83.4017,710.5,83.6982,711.0338,83.6982,710.005,74.236,710.4315,64.7737,711.2416,55.3114,710.4513,45.8491,710.6053,36.3868,710.8386,26.9246,710.9162,17.4623,710.5,8" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="714.5" y="34.1074">Scenario</text><path d="M711.5,46.1133 L711.5,46.3935 L721.7,45.5609 L731.9,46.371 L742.1,46.6462 L752.3,45.1621 L762.5,46.0097 L772.7,45.5446 L782.9,45.6019 L793.1,46.0224 L803.3,45.1915 L813.5,46.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M711.5,54.1133 L711.5,54.3935 L721.7,53.5609 L731.9,54.371 L742.1,54.6462 L752.3,53.1621 L762.5,54.0097 L772.7,53.5446 L782.9,53.6019 L793.1,54.0224 L803.3,53.1915 L813.5,54.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="724.5166,71.1355,724.0768,71.7363,723.5567,72.6164,722.8128,73.2095,722.0311,73.5338,721.4078,73.562,720.6067,73.1564,719.8509,72.8914,719.2771,72.3534,718.9762,71.7374,718.7977,71.247,718.6229,70.6064,718.3391,70.0552,718.5572,69.5169,718.7482,68.9274,719.4653,68.4611,719.9697,67.8561,720.5941,67.6552,721.3364,67.4821,722.2883,67.5849,722.8097,67.8308,723.4158,67.9423,724.1529,68.6974,724.4098,69.4946,724.5214,70.0385,724.395,70.9348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="54" x="731.5" y="74.1938">main()</text><!--class Director--><polygon fill="#222222" points="769.5,144,769.5,144.2102,779.9,143.5857,790.3,144.1933,800.7,144.3997,811.1,143.2866,821.5,143.9223,831.9,143.5735,842.3,143.6165,852.7,143.9318,863.1,143.3086,873.5,144,874.0536,144,872.8697,154.8227,873.3022,165.6453,873.9319,176.468,873.4142,187.2906,873.5,198.1133,873.5,198.1815,863.1,198.0813,852.7,198.2918,842.3,198.3524,831.9,198.699,821.5,198.7843,811.1,198.7925,800.7,198.3679,790.3,198.5769,779.9,198.8155,769.5,198.1133,768.7788,198.1133,770.1785,187.2906,769.2035,176.468,770.0338,165.6453,769.005,154.8227,769.5,144" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="773.5" y="170.1074">Director</text><path d="M770.5,182.1133 L770.5,182.3935 L780.7,181.5609 L790.9,182.371 L801.1,182.6462 L811.3,181.1621 L821.5,182.0097 L831.7,181.5446 L841.9,181.6019 L852.1,182.0224 L862.3,181.1915 L872.5,182.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M770.5,190.1133 L770.5,190.3935 L780.7,189.5609 L790.9,190.371 L801.1,190.6462 L811.3,189.1621 L821.5,190.0097 L831.7,189.5446 L841.9,189.6019 L852.1,190.0224 L862.3,189.1915 L872.5,190.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><!--class FlyWeightFactory--><polygon fill="#222222" points="580.5,330.5,580.5,330.7102,590.5,330.0857,600.5,330.6933,610.5,330.8997,620.5,329.7866,630.5,330.4223,640.5,330.0735,650.5,330.1165,660.5,330.4318,670.5,329.8086,680.5,331.0536,690.5,329.8697,700.5,330.3022,710.5,330.9319,720.5,330.4142,730.5,330.5682,740.5,330.4681,750.5,330.6785,760.5,330.7391,770.5,331.0857,780.5,330.5,781.1711,330.5,781.1793,339.9623,780.7546,349.4246,780.9636,358.8868,781.2022,368.3491,779.7788,377.8114,781.1785,387.2737,780.2035,396.736,780.5,406.1982,780.5,406.7321,770.5,405.7032,760.5,406.1297,750.5,406.9398,740.5,406.1495,730.5,406.3035,720.5,406.5369,710.5,406.6145,700.5,406.1943,690.5,406.4855,680.5,405.6258,670.5,406.4826,660.5,406.7464,650.5,406.6428,640.5,406.8113,630.5,405.7152,620.5,405.5461,610.5,405.5768,600.5,406.1394,590.5,406.0017,580.5,406.1982,581.1814,406.1982,580.3253,396.736,580.1569,387.2737,580.7283,377.8114,579.8332,368.3491,579.9809,358.8868,581.149,349.4246,580.9357,339.9623,580.5,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="584.5" y="356.6074">FlyWeightFactory</text><path d="M581.5,368.6133 L581.5,368.8935 L591.4,368.0609 L601.3,368.871 L611.2,369.1462 L621.1,367.6621 L631,368.5097 L640.9,368.0446 L650.8,368.1019 L660.7,368.5224 L670.6,367.6915 L680.5,369.3515 L690.4,367.7729 L700.3,368.3496 L710.2,369.1892 L720.1,368.4989 L730,368.7043 L739.9,368.5707 L749.8,368.8513 L759.7,368.9321 L769.6,369.3942 L779.5,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M581.5,376.6133 L581.5,376.8935 L591.4,376.0609 L601.3,376.871 L611.2,377.1462 L621.1,375.6621 L631,376.5097 L640.9,376.0446 L650.8,376.1019 L660.7,376.5224 L670.6,375.6915 L680.5,377.3515 L690.4,375.7729 L700.3,376.3496 L710.2,377.1892 L720.1,376.4989 L730,376.7043 L739.9,376.5707 L749.8,376.8513 L759.7,376.9321 L769.6,377.3942 L779.5,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="594.5166,393.6355,594.0768,394.2363,593.5567,395.1164,592.8128,395.7095,592.0311,396.0338,591.4078,396.062,590.6067,395.6564,589.8509,395.3914,589.2771,394.8534,588.9762,394.2374,588.7977,393.747,588.6229,393.1064,588.3391,392.5552,588.5572,392.0169,588.7482,391.4274,589.4653,390.9611,589.9697,390.3561,590.5941,390.1552,591.3364,389.9821,592.2883,390.0849,592.8097,390.3308,593.4158,390.4423,594.1529,391.1974,594.4098,391.9946,594.5214,392.5385,594.395,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="153" x="601.5" y="396.6938">getFlyWeight(key)</text><path d="M6,258 L6,478.9063 A0,0 0 0 0 6,478.9063 L545,478.9063 A0,0 0 0 0 545,478.9063 L545,372.5 L580.373,368.5 L545,364.5 L545,268 L535,258 L6,258 A0,0 0 0 0 6,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><path d="M535,258 L535.1868,258 L534.6317,260 L535.1718,262 L535.3553,264 L534.3659,266 L535,268 L535,267.9309 L537,267.6209 L539,267.6591 L541,267.9394 L543,267.3854 L545,268 L545.348,268.348 L542.6038,265.6038 L540.8757,263.8757 L539.2715,262.2715 L536.9461,259.9461 L535,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="276" x="13" y="284.1074">public getFlyweight() {</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="324" x="37" y="310.2207">if (flyWeight(key) != null)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="252" x="61" y="336.334">return flyWeight(key)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="48" x="37" y="362.4473">else</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="468" x="61" y="388.5605">newFlyWeight = new ConcreteFlyWeight();</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="384" x="61" y="414.6738">flyWeightPool.add(newFlyWeight);</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="240" x="61" y="440.7871">return newFlyWeight;</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="12" x="13" y="466.9004">}</text><!--class FlyWeight--><polygon fill="#222222" points="887,330.5,887,330.7102,897.12,330.0857,907.24,330.6933,917.36,330.8997,927.48,329.7866,937.6,330.4223,947.72,330.0735,957.84,330.1165,967.96,330.4318,978.08,329.8086,988.2,331.0536,998.32,329.8697,1008.44,330.3022,1018.56,330.9319,1028.68,330.4142,1038.8,330.5682,1048.92,330.4681,1059.04,330.6785,1069.16,330.7391,1079.28,331.0857,1089.4,331.1711,1099.52,331.1793,1109.64,330.7546,1119.76,330.9636,1129.88,331.2022,1140,330.5,1139.2788,330.5,1140.6785,339.9623,1139.7035,349.4246,1140.5338,358.8868,1139.505,368.3491,1139.9315,377.8114,1140.7416,387.2737,1139.9513,396.736,1140,406.1982,1140,406.3035,1129.88,406.5369,1119.76,406.6145,1109.64,406.1943,1099.52,406.4855,1089.4,405.6258,1079.28,406.4826,1069.16,406.7464,1059.04,406.6428,1048.92,406.8113,1038.8,405.7152,1028.68,405.5461,1018.56,405.5768,1008.44,406.1394,998.32,406.0017,988.2,406.8797,978.08,406.0236,967.96,405.8552,957.84,406.4265,947.72,405.5314,937.6,405.6791,927.48,406.8472,917.36,406.6339,907.24,406.9327,897.12,405.8764,887,406.1982,887.3192,406.1982,887.5904,396.736,886.5276,387.2737,886.9041,377.8114,887.126,368.3491,887.6518,358.8868,886.9958,349.4246,887.4626,339.9623,887,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="959.5" y="356.6074">FlyWeight</text><path d="M888,368.6133 L888,368.8935 L898.04,368.0609 L908.08,368.871 L918.12,369.1462 L928.16,367.6621 L938.2,368.5097 L948.24,368.0446 L958.28,368.1019 L968.32,368.5224 L978.36,367.6915 L988.4,369.3515 L998.44,367.7729 L1008.48,368.3496 L1018.52,369.1892 L1028.56,368.4989 L1038.6,368.7043 L1048.64,368.5707 L1058.68,368.8513 L1068.72,368.9321 L1078.76,369.3942 L1088.8,369.508 L1098.84,369.519 L1108.88,368.9528 L1118.92,369.2314 L1128.96,369.5496 L1139,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M888,376.6133 L888,376.8935 L898.04,376.0609 L908.08,376.871 L918.12,377.1462 L928.16,375.6621 L938.2,376.5097 L948.24,376.0446 L958.28,376.1019 L968.32,376.5224 L978.36,375.6915 L988.4,377.3515 L998.44,375.7729 L1008.48,376.3496 L1018.52,377.1892 L1028.56,376.4989 L1038.6,376.7043 L1048.64,376.5707 L1058.68,376.8513 L1068.72,376.9321 L1078.76,377.3942 L1088.8,377.508 L1098.84,377.519 L1108.88,376.9528 L1118.92,377.2314 L1128.96,377.5496 L1139,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="901.0166,393.6355,900.5768,394.2363,900.0567,395.1164,899.3128,395.7095,898.5311,396.0338,897.9078,396.062,897.1067,395.6564,896.3509,395.3914,895.7771,394.8534,895.4762,394.2374,895.2977,393.747,895.1229,393.1064,894.8391,392.5552,895.0572,392.0169,895.2482,391.4274,895.9653,390.9611,896.4697,390.3561,897.0941,390.1552,897.8364,389.9821,898.7883,390.0849,899.3097,390.3308,899.9158,390.4423,900.6529,391.1974,900.9098,391.9946,901.0214,392.5385,900.895,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="908" y="396.6938">operation(extrinsicState)</text><!--class UnshredConcreteFlyWeight--><polygon fill="#222222" points="1049,539,1049,539.2102,1059.12,538.5857,1069.24,539.1933,1079.36,539.3997,1089.48,538.2866,1099.6,538.9223,1109.72,538.5735,1119.84,538.6165,1129.96,538.9318,1140.08,538.3086,1150.2,539.5536,1160.32,538.3697,1170.44,538.8022,1180.56,539.4319,1190.68,538.9142,1200.8,539.0682,1210.92,538.9681,1221.04,539.1785,1231.16,539.2391,1241.28,539.5857,1251.4,539.6711,1261.52,539.6793,1271.64,539.2546,1281.76,539.4636,1291.88,539.7022,1302,539,1301.2788,539,1302.6785,549.283,1301.7035,559.5661,1302.5338,569.8491,1301.505,580.1322,1301.9315,590.4152,1302.7416,600.6982,1301.9513,610.9813,1302.1053,621.2643,1302.3386,631.5474,1302.4162,641.8304,1301.9961,652.1134,1302,662.3965,1302,662.6837,1291.88,661.8241,1281.76,662.6809,1271.64,662.9447,1261.52,662.841,1251.4,663.0095,1241.28,661.9134,1231.16,661.7443,1221.04,661.7751,1210.92,662.3376,1200.8,662.2,1190.68,663.0779,1180.56,662.2218,1170.44,662.0534,1160.32,662.6248,1150.2,661.7296,1140.08,661.8774,1129.96,663.0454,1119.84,662.8322,1109.72,663.131,1099.6,662.0747,1089.48,662.7157,1079.36,662.9869,1069.24,661.9241,1059.12,662.3006,1049,662.3965,1049.126,662.3965,1049.6518,652.1134,1048.9958,641.8304,1049.4626,631.5474,1048.4462,621.2643,1048.3227,610.9813,1049.5036,600.6982,1048.2831,590.4152,1049.509,580.1322,1049.2066,569.8491,1048.7321,559.5661,1048.6462,549.283,1049,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="1133.5" y="565.1074">Unshred</text><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="1073.5" y="591.2207">ConcreteFlyWeight</text><path d="M1050,603.2266 L1050,603.5068 L1060.04,602.6741 L1070.08,603.4843 L1080.12,603.7595 L1090.16,602.2754 L1100.2,603.1229 L1110.24,602.6579 L1120.28,602.7152 L1130.32,603.1357 L1140.36,602.3047 L1150.4,603.9648 L1160.44,602.3862 L1170.48,602.9629 L1180.52,603.8025 L1190.56,603.1122 L1200.6,603.3175 L1210.64,603.184 L1220.68,603.4646 L1230.72,603.5454 L1240.76,604.0075 L1250.8,604.1213 L1260.84,604.1322 L1270.88,603.5661 L1280.92,603.8447 L1290.96,604.1629 L1301,603.2266 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="1063.0166,620.2488,1062.5768,620.8496,1062.0567,621.7297,1061.3128,622.3228,1060.5311,622.6471,1059.9078,622.6753,1059.1067,622.2696,1058.3509,622.0047,1057.7771,621.4666,1057.4762,620.8507,1057.2977,620.3603,1057.1229,619.7197,1056.8391,619.1684,1057.0572,618.6302,1057.2482,618.0406,1057.9653,617.5744,1058.4697,616.9693,1059.0941,616.7684,1059.8364,616.5954,1060.7883,616.6982,1061.3097,616.9441,1061.9158,617.0555,1062.6529,617.8107,1062.9098,618.6078,1063.0214,619.1518,1062.895,620.0481" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="72" x="1070" y="623.3071">allState</text><path d="M1050,632.8115 L1050,633.0918 L1060.04,632.2591 L1070.08,633.0692 L1080.12,633.3444 L1090.16,631.8603 L1100.2,632.7079 L1110.24,632.2429 L1120.28,632.3002 L1130.32,632.7206 L1140.36,631.8897 L1150.4,633.5497 L1160.44,631.9711 L1170.48,632.5478 L1180.52,633.3875 L1190.56,632.6972 L1200.6,632.9025 L1210.64,632.7689 L1220.68,633.0496 L1230.72,633.1304 L1240.76,633.5924 L1250.8,633.7063 L1260.84,633.7172 L1270.88,633.151 L1280.92,633.4296 L1290.96,633.7478 L1301,632.8115 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="1063.0166,649.8337,1062.5768,650.4346,1062.0567,651.3147,1061.3128,651.9077,1060.5311,652.2321,1059.9078,652.2602,1059.1067,651.8546,1058.3509,651.5896,1057.7771,651.0516,1057.4762,650.4357,1057.2977,649.9452,1057.1229,649.3046,1056.8391,648.7534,1057.0572,648.2152,1057.2482,647.6256,1057.9653,647.1593,1058.4697,646.5543,1059.0941,646.3534,1059.8364,646.1804,1060.7883,646.2832,1061.3097,646.5291,1061.9158,646.6405,1062.6529,647.3956,1062.9098,648.1928,1063.0214,648.7367,1062.895,649.6331" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="1070" y="652.8921">operation(extrinsicState)</text><!--class ConcreteFlyWeight--><polygon fill="#222222" points="743,539,743,539.2102,753.12,538.5857,763.24,539.1933,773.36,539.3997,783.48,538.2866,793.6,538.9223,803.72,538.5735,813.84,538.6165,823.96,538.9318,834.08,538.3086,844.2,539.5536,854.32,538.3697,864.44,538.8022,874.56,539.4319,884.68,538.9142,894.8,539.0682,904.92,538.9681,915.04,539.1785,925.16,539.2391,935.28,539.5857,945.4,539.6711,955.52,539.6793,965.64,539.2546,975.76,539.4636,985.88,539.7022,996,539,995.2788,539,996.6785,549.283,995.7035,559.5661,996.5338,569.8491,995.505,580.1322,995.9315,590.4152,996.7416,600.6982,995.9513,610.9813,996.1053,621.2643,996.3386,631.5474,996.4162,641.8304,995.9961,652.1134,996,662.3965,996,662.6837,985.88,661.8241,975.76,662.6809,965.64,662.9447,955.52,662.841,945.4,663.0095,935.28,661.9134,925.16,661.7443,915.04,661.7751,904.92,662.3376,894.8,662.2,884.68,663.0779,874.56,662.2218,864.44,662.0534,854.32,662.6248,844.2,661.7296,834.08,661.8774,823.96,663.0454,813.84,662.8322,803.72,663.131,793.6,662.0747,783.48,662.7157,773.36,662.9869,763.24,661.9241,753.12,662.3006,743,662.3965,743.126,662.3965,743.6518,652.1134,742.9958,641.8304,743.4626,631.5474,742.4462,621.2643,742.3227,610.9813,743.5036,600.6982,742.2831,590.4152,743.509,580.1322,743.2066,569.8491,742.7321,559.5661,742.6462,549.283,743,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="821.5" y="565.1074">Concrete</text><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="815.5" y="591.2207">FlyWeight</text><path d="M744,603.2266 L744,603.5068 L754.04,602.6741 L764.08,603.4843 L774.12,603.7595 L784.16,602.2754 L794.2,603.1229 L804.24,602.6579 L814.28,602.7152 L824.32,603.1357 L834.36,602.3047 L844.4,603.9648 L854.44,602.3862 L864.48,602.9629 L874.52,603.8025 L884.56,603.1122 L894.6,603.3175 L904.64,603.184 L914.68,603.4646 L924.72,603.5454 L934.76,604.0075 L944.8,604.1213 L954.84,604.1322 L964.88,603.5661 L974.92,603.8447 L984.96,604.1629 L995,603.2266 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="757.0166,620.2488,756.5768,620.8496,756.0567,621.7297,755.3128,622.3228,754.5311,622.6471,753.9078,622.6753,753.1067,622.2696,752.3509,622.0047,751.7771,621.4666,751.4762,620.8507,751.2977,620.3603,751.1229,619.7197,750.8391,619.1684,751.0572,618.6302,751.2482,618.0406,751.9653,617.5744,752.4697,616.9693,753.0941,616.7684,753.8364,616.5954,754.7883,616.6982,755.3097,616.9441,755.9158,617.0555,756.6529,617.8107,756.9098,618.6078,757.0214,619.1518,756.895,620.0481" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="126" x="764" y="623.3071">intrinsicState</text><path d="M744,632.8115 L744,633.0918 L754.04,632.2591 L764.08,633.0692 L774.12,633.3444 L784.16,631.8603 L794.2,632.7079 L804.24,632.2429 L814.28,632.3002 L824.32,632.7206 L834.36,631.8897 L844.4,633.5497 L854.44,631.9711 L864.48,632.5478 L874.52,633.3875 L884.56,632.6972 L894.6,632.9025 L904.64,632.7689 L914.68,633.0496 L924.72,633.1304 L934.76,633.5924 L944.8,633.7063 L954.84,633.7172 L964.88,633.151 L974.92,633.4296 L984.96,633.7478 L995,632.8115 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="757.0166,649.8337,756.5768,650.4346,756.0567,651.3147,755.3128,651.9077,754.5311,652.2321,753.9078,652.2602,753.1067,651.8546,752.3509,651.5896,751.7771,651.0516,751.4762,650.4357,751.2977,649.9452,751.1229,649.3046,750.8391,648.7534,751.0572,648.2152,751.2482,647.6256,751.9653,647.1593,752.4697,646.5543,753.0941,646.3534,753.8364,646.1804,754.7883,646.2832,755.3097,646.5291,755.9158,646.6405,756.6529,647.3956,756.9098,648.1928,757.0214,648.7367,756.895,649.6331" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="764" y="652.8921">operation(extrinsicState)</text><!--link Scenario to Director--><path d="M780.362,84.238 L780.6147,84.3592 L784.2596,93.1631 L789.3857,102.6775 L794.0295,111.9605 L797.087,120.4826 L802.2469,130.0132 L806.736,139.222 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="808.938,143.811,809.008,143.813,808.7425,141.838,808.8874,139.875,808.8987,137.9081,808.4703,135.9283,808.6505,133.9663,808.6261,133.9577,808.1413,134.9866,807.7796,136.0587,807.5037,137.1609,806.9325,138.1594,806.7748,139.3032,806.836,139.4773,805.6378,138.7298,804.6182,138.4907,803.6205,138.3136,802.4959,137.7756,801.438,137.4274,801.4527,137.4448,802.9311,138.696,804.4766,140.0262,805.9897,141.3183,807.5645,142.683,808.938,143.811" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Scenario to FlyWeightFactory--><path d="M753.013,84.079 L753.2845,84.1485 L750.0116,93.5814 L748.3303,103.4215 L746.1307,113.129 L742.2267,122.4005 L740.5816,132.2499 L737.6649,141.774 L735.2542,151.4275 L733.1954,161.171 L729.9241,170.6044 L729.0662,180.6552 L725.0706,189.9032 L723.1631,199.6855 L721.5104,209.5329 L718.3754,219.0011 L716.1081,228.6914 L713.5125,238.2976 L711.3182,248.0064 L708.9303,257.6658 L706.9118,267.4196 L704.5558,277.0872 L702.1002,286.7292 L699.0855,296.2282 L696.8892,305.9366 L694.7313,315.6548 L691.358,325.062 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="690.028,330.261,690.083,330.3044,691.1411,328.63,692.5215,327.2103,693.797,325.7077,694.7274,323.9323,696.1354,322.5344,696.1222,322.5122,695.0895,322.9887,694.1234,323.5776,693.2035,324.2446,692.1242,324.6424,691.2682,325.4173,691.427,325.5113,690.5109,324.3368,690.0584,323.4368,689.6624,322.5703,688.9374,321.5089,688.3854,320.5501,688.4078,320.5539,688.7034,322.4905,689.1011,324.4444,689.4496,326.3899,689.892,328.3514,690.028,330.261" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to FlyWeightFactory--><path d="M802.484,198.366 L802.7113,198.5299 L796.2798,206.0239 L791.1808,214.4788 L785.6478,222.6207 L778.688,229.7336 L773.6193,238.2104 L767.486,245.9194 L761.7764,253.9339 L756.3613,262.1608 L749.9312,269.6558 L745.5215,278.6078 L738.485,285.6654 L733.1966,293.9838 L728.1215,302.4559 L721.8055,310.0331 L716.2159,318.1342 L710.386,326.062 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#A9A9A9" points="707.397,330.207,707.4323,330.2675,709.0295,329.0962,710.8335,328.2797,712.5702,327.3477,714.0855,326.0356,715.9072,325.2496,715.9031,325.224,714.7677,325.2898,713.6531,325.4845,712.553,325.7689,711.403,325.7444,710.3229,326.1525,710.5051,326.1819,709.9349,325.0021,709.8966,323.9082,709.9233,322.8249,709.5723,321.6804,709.42,320.5681,709.4422,320.5728,709.005,322.4937,708.669,324.4359,708.2842,326.3678,707.9927,328.3193,707.397,330.207" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to UnshredConcreteFlyWeight--><path d="M873.793,177.884 L873.8051,177.9766 L877.1358,178.14 L880.5372,178.8465 L883.9156,179.3761 L887.2182,179.3241 L890.6257,180.0772 L890.621,180.043 L894.2702,180.3995 L897.9433,180.9284 L901.6331,181.5773 L905.2656,181.813 L908.9784,182.6273 L909.0146,182.8707 L912.8517,182.9325 L916.7945,183.7048 L920.7502,184.5638 L924.6308,184.9185 L928.5509,185.5384 L928.5557,185.5683 L932.6472,186.1795 L936.7604,186.927 L940.8632,187.6088 L944.986,188.4161 L949.0434,188.8142 L949.0941,189.1081 L953.3172,189.8406 L957.5076,190.3835 L961.7459,191.2039 L965.9864,192.0374 L970.1558,192.4587 L970.0967,192.1437 L974.4978,193.5585 L978.7044,193.936 L983.0588,195.1022 L987.261,195.4562 L991.588,196.4758 L991.5819,196.446 L995.9445,197.6774 L1000.1645,198.2121 L1004.4686,199.1578 L1008.7799,200.1382 L1013.0401,200.8695 L1013.0808,201.0499 L1017.2741,201.8226 L1021.5369,202.9036 L1025.6873,203.4857 L1030.0054,204.812 L1034.212,205.6435 L1034.2712,205.8798 L1038.3784,206.8668 L1042.5149,207.9711 L1046.5149,208.5303 L1050.615,209.489 L1054.8038,210.8019 L1054.7311,210.5354 L1056.7938,211.3215 L1058.7746,211.8074 L1060.8742,212.7288 L1062.771,212.9066 L1064.7883,213.5264 L1064.7458,213.38 L1066.762,214.1883 L1068.5965,214.3706 L1070.5602,214.9981 L1072.6503,216.0611 L1074.5153,216.3485 L1074.5744,216.5329 L1078.3212,217.8471 L1081.8842,218.5878 L1085.6774,220.0468 L1089.4205,221.3494 L1093.0467,222.2873 L1092.9736,222.0904 L1096.4421,223.5143 L1099.8867,224.8737 L1103.3783,226.3597 L1106.687,227.3534 L1110.0978,228.6221 L1110.1808,228.8102 L1113.0527,229.7438 L1116.0848,231.0406 L1119.3507,232.8677 L1122.186,233.7183 L1125.3688,235.3568 L1125.4764,235.5558 L1128.0506,236.8653 L1130.5884,238.1076 L1133.2083,239.5017 L1136.0184,241.2471 L1138.5594,242.4955 L1138.4833,242.3864 L1140.8721,244.2205 L1142.743,245.3126 L1145.2028,247.2483 L1147.331,248.7091 L1149.3699,250.0419 L1149.446,250.1197 L1151.0106,251.6485 L1152.8478,253.4559 L1154.4387,255.0116 L1155.9266,256.4621 L1157.5,258 L1157.5961,258.0705 L1159.6548,260.9673 L1162.1597,264.1915 L1164.1599,267.0455 L1166.3677,270.0517 L1168.5073,273.008 L1168.274,272.8713 L1170.2205,276.1065 L1172.4481,279.5064 L1174.2781,282.6733 L1175.9654,285.7568 L1177.8506,288.956 L1177.7207,288.8957 L1179.3192,292.2651 L1180.6878,295.5278 L1182.6885,299.0841 L1184.3763,302.4951 L1185.6352,305.7067 L1185.855,305.7866 L1187.1917,309.2954 L1188.1106,312.6523 L1189.4703,316.1694 L1190.5383,319.5805 L1191.9664,323.1225 L1192.088,323.1563 L1193.0687,326.7405 L1194.1962,330.3656 L1194.858,333.8612 L1195.8954,337.4613 L1196.9496,341.0659 L1197.1427,341.1053 L1197.9447,344.783 L1198.2225,348.3538 L1199.1094,352.0488 L1200.0069,355.746 L1200.69,359.3995 L1200.4211,359.3618 L1201.3661,363.1385 L1201.8447,366.8499 L1202.2074,370.545 L1202.835,374.2772 L1203.2929,377.9857 L1203.6157,378.0128 L1203.4685,381.7143 L1204.0608,385.4779 L1204.3619,389.2171 L1204.6009,392.951 L1204.8638,396.687 L1204.9263,396.6892 L1205.0429,400.4245 L1204.8441,404.149 L1205.0721,407.8882 L1205.1739,411.6231 L1205.5077,415.366 L1205.5361,415.3662 L1205.5114,419.0702 L1205.5086,422.7743 L1205.2719,426.4762 L1205.3357,430.181 L1205.3302,433.8851 L1205.2768,433.8825 L1205.4075,437.542 L1205.162,441.1831 L1204.5784,444.8076 L1204.5828,448.4609 L1204.4364,452.1068 L1204.1808,452.0852 L1204.2632,455.675 L1204.104,459.2444 L1203.7748,462.7994 L1203.0398,466.32 L1202.9317,469.8937 L1203.1365,469.9177 L1202.2018,473.2984 L1202.216,476.7899 L1201.5934,480.2071 L1201.3662,483.6704 L1200.9214,487.1083 L1201.0271,487.1238 L1200.6469,490.4396 L1199.6406,493.664 L1199.6842,497.0417 L1199.0713,500.3235 L1198.5108,503.613 L1198.6665,503.6399 L1198.2972,506.8011 L1197.431,509.8764 L1196.9643,513.0207 L1196.4399,516.1551 L1195.8053,519.2704 L1195.8913,519.2874 L1195.2259,522.2049 L1194.9571,525.2006 L1193.8022,528.0215 L1193.7355,531.0571 L1192.91,533.943 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="1191.86,538.838,1191.9167,538.8792,1192.9054,537.1628,1194.2265,535.6878,1195.4393,534.1342,1196.2963,532.3222,1197.6459,530.8678,1197.6318,530.8461,1196.6195,531.3645,1195.6783,531.9925,1194.7865,532.6966,1193.7244,533.1383,1192.9008,533.9475,1193.0556,534.048,1192.1087,532.8841,1191.6136,532.0136,1191.1738,531.1789,1190.4131,530.1359,1189.8211,529.2025,1189.8434,529.2072,1190.2185,531.1274,1190.6949,533.069,1191.1224,535.0003,1191.6432,536.9513,1191.86,538.838" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to ConcreteFlyWeight--><path d="M824.43,198.099 L824.7085,198.1303 L824.9891,207.9061 L826.9023,217.8652 L828.2838,227.7646 L827.9171,237.4677 L829.8675,247.431 L830.5134,257.2478 L831.6785,267.1229 L833.2044,277.0385 L833.4867,286.8145 L836.2445,296.8684 L835.7838,306.561 L837.465,316.494 L839.4075,326.4564 L839.8296,336.2481 L841.1417,346.1397 L842.1171,355.9935 L843.504,365.8936 L844.6924,375.7713 L846.2597,385.6915 L847.4809,395.573 L848.5999,405.4429 L849.1453,415.2484 L850.5303,425.1482 L851.9546,435.0524 L851.1766,444.7094 L854.1393,454.7863 L853.9555,464.5099 L856.1638,474.5022 L855.9086,484.2178 L857.5819,494.15 L859.7634,504.1392 L859.8243,513.8903 L861.1364,523.782 L862.105,533.635 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="862.674,538.709,862.7408,538.7301,863.1362,536.7893,863.9232,534.9722,864.5827,533.1149,864.8229,531.1249,865.6435,529.3185,865.6233,529.3023,864.8268,530.1142,864.1323,531.0075,863.5089,531.9574,862.6409,532.7122,862.1154,533.7403,862.2305,533.8846,861.1,532.8705,860.3056,532.2775,859.5521,531.736,858.5601,530.8955,857.6936,530.2122,857.7132,530.2237,858.6805,531.9062,859.7371,533.641,860.7506,535.3506,861.8463,537.1084,862.674,538.709" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeightFactory to FlyWeight--><path d="M793.905,368.5 L793.905,368.7802 L804.2067,367.9476 L814.5083,368.7577 L824.81,369.0329 L835.1117,367.5488 L845.4133,368.3964 L855.715,367.9313 L866.0167,367.9887 L876.3183,368.4091 L886.62,368.5 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#222222" points="780.66,368.5,780.6989,368.5583,781.7834,369.1851,783.0957,370.1536,784.3339,371.0109,785.3281,371.5021,786.66,372.5,786.6456,372.4784,787.7811,371.5817,788.9891,370.7936,790.2474,370.0811,791.3322,369.1082,792.66,368.5,792.7624,368.6536,791.3435,367.5252,790.2234,366.8451,789.1399,366.2198,787.8441,365.2762,786.66,364.5,786.6726,364.5189,785.4541,365.2911,784.293,366.1495,783.1042,366.9663,781.9683,367.8624,780.66,368.5" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to UnshredConcreteFlyWeight--><path d="M1051.38,423.286 L1051.6091,423.4474 L1056.7498,431.233 L1063.2336,439.9645 L1069.28,448.3881 L1073.8881,455.7985 L1080.4024,464.5517 L1085.8437,472.549 L1091.712,480.8471 L1097.8771,489.3542 L1103.0192,497.1408 L1110.1978,506.3618 L1114.7287,513.7179 L1121.0216,522.315 L1127.5294,531.0636 L1132.88,538.997 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="1045.5,427.091,1045.5674,427.1101,1044.2091,422.9769,1043.246,418.9558,1042.1542,414.8982,1040.6393,410.7204,1039.71,406.709,1039.6949,406.6879,1043.0753,409.0573,1046.5317,411.533,1050.0408,414.0825,1053.368,416.3775,1056.95,419.029,1057.0562,419.1799,1054.539,420.4696,1052.332,422.1999,1050.1629,423.9839,1047.7735,425.4552,1045.5,427.091" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to ConcreteFlyWeight--><path d="M979.527,423.762 L979.7645,423.9107 L973.9054,431.6999 L969.4387,440.3609 L964.5186,448.738 L958.1074,456.1815 L953.6724,464.8624 L948.1249,472.8467 L943.0201,481.1082 L938.2231,489.5623 L932.3655,497.3525 L928.6191,506.4644 L922.1278,513.8578 L917.4632,522.3949 L913.0215,531.0716 L907.38,538.997 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="973.658,419.946,973.7018,420.0007,976.8809,417.1908,980.3166,414.7015,983.6688,412.1078,986.7462,409.1707,990.204,406.709,990.1787,406.7033,989.1293,410.8108,988.2073,414.9472,987.3738,419.1036,986.2352,423.1909,985.524,427.375,985.6219,427.5314,983.0393,425.7111,980.7426,424.3475,978.4808,423.0396,976.016,421.4076,973.658,419.946" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--
@startuml
skinparam backgroundColor #222222
skinparam handwritten true
hide circle

skinparam shadowing false
skinparam padding 1
skinparam arrow {
    Thickness 2
    Color #DarkGrey
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam class {
    BorderThickness 3
    BorderColor #ff69b4
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle bold
    FontColor #ff69b4
}
skinparam classAttribute {
    FontSize 15
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam note {
    BorderThickness 3
    BorderColor #DarkGrey
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}

class Scenario  {
+ main()
}
class Director
class FlyWeightFactory  {
+ getFlyWeight(key)
}
note left
public getFlyweight() {
  if (flyWeight(key) != null)
    return flyWeight(key)
  else
    newFlyWeight = new ConcreteFlyWeight();
    flyWeightPool.add(newFlyWeight);
    return newFlyWeight;
}
end note
class FlyWeight  {
+ operation(extrinsicState)
}
class "Unshred\nConcreteFlyWeight"  as UnshredConcreteFlyWeight {
+ allState
+ operation(extrinsicState)
}
class "Concrete\nFlyWeight" as ConcreteFlyWeight {
+ intrinsicState
+ operation(extrinsicState)
}


Scenario .down.> Director
Scenario .down.> FlyWeightFactory
Director -down-> FlyWeightFactory
Director .down.> UnshredConcreteFlyWeight
Director .down.> ConcreteFlyWeight
FlyWeightFactory o-right- FlyWeight
FlyWeight <|-down- UnshredConcreteFlyWeight
FlyWeight <|-down- ConcreteFlyWeight
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Windows 10
OS Version: 10.0
Default Encoding: windows-1252
Language: es
Country: ES
--></g></svg>